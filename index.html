<!DOCTYPE html>
<html>
<head>
    <script src="phaser.js"></script>
</head>
<body>


<script>
 
function preload() {
		
	//Images
	this.load.image('jordan', '/assets/sprites/JordanRetro5_mini.png');
	this.load.image('play_button', '/assets/sprites/play_black.png');
	this.load.image('stop_button', '/assets/sprites/stop_black.png');
	this.load.image('platform', '/assets/sprites/platform.png');

	//Music
	this.load.audio('theme_music', 'assets/music/bob_james_westchester_lady.mp3');
  
 	}

const gameState = {};

function create() {
		//Add Jordan Shoe
		gameState.jordan = this.physics.add.sprite(150, 100, 'jordan');
		gameState.jordan.setCollideWorldBounds(true)

		//Add Platforms
		const platforms = this.physics.add.staticGroup();
		platforms.create(225, 510, 'platform');

		//Add Collider Object
		this.physics.add.collider(jordan, platforms);

		//Add Cursors
		gameState.cursors = this.input.keyboard.createCursorKeys();

		//Add Theme Music
		gameState.theme_music = this.sound.add('theme_music');

		//Add Music Control Buttons
		gameState.play_button = this.add.sprite(25, 25, 'play_button');
		gameState.stop_button = this.add.sprite(75, 25, 'stop_button');

		//Make Buttons Interactive
		gameState.play_button.setInteractive();
		gameState.stop_button.setInteractive();

		//Play Button Logic
		gameState.play_button.on('pointerup', function() {

			gameState.theme_music.play()
		});

		//Stop Button Logic
		gameState.stop_button.on('pointerup', function() {

			gameState.theme_music.stop()
		});
  
}

function update() {
	if(gameState.cursors.left.isDown) {
  		gameState.jordan.setVelocityX(-160);
	} else if (gameState.cursors.right.isDown) {
 		gameState.jordan.setVelocityX(160);
	} else {
    	gameState.jordan.setVelocityX(0);
  	}

}

const config = {
	type: Phaser.AUTO,
	width: 450,
	height: 500,
	backgroundColor: "#5D5A5B",
	physics: {
    	default: 'arcade',
    	arcade: {
      		gravity: { y: 200 },
      		enableBody: true,
    		}
  		},
	scene: {
		preload,
		create,
		update
	}
}
  
const game = new Phaser.Game(config)

</script>

</body>
</html>